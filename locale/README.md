# Localization

This folder contains application localization files :

- `messages.xlf` list of application messages that need to be localized (generated by angular 2 compiler)
- `messages.[locale].xlf` translated version of `messages.xlf` for specific `[locale]`

## Adding a new translation language

Copy `messages.xlf` to `messages.[locale].xlf` where `[locale]` is a two letter locale code
for the language you are translating to.

Use one of the [xliff editors](https://en.wikipedia.org/wiki/XLIFF#Editors) or edit the source file manually.

### Editing the xliff file manually

- open the `messages.[locale].xlf` file in a text editor
  (eg. `messages.hr.xlf` for Croatian)
- on `<file>` tag add a `target-lang="[locale-id]"` attribute where `[locale-id]` matches a language-culture code
  from a [well-known codeset](https://msdn.microsoft.com/en-us/library/ee825488(v=cs.20).aspx)
  (eg. `<file ... target-lang="HR-HR"> ...` for Croatian)
- for each `<trans-unit>` element add a `<target state="translated">[translation]</target>` where
  `[translation]` is the translated version of the text provided in `<source>` tag within the same `<trans-unit>`

## Compiling the app with a specific language

Providing two environment variables `LOCALE_FILE` and  

### Dev build - JIT compilation

`webpack.config.js` will look up two environment variables `LOCALE_FILE` and `LOCALE_ID`,
if both are defined it will copy the `LOCALE_FILE` to `build/client/message.xlf` and pass
`LOCALE_ID` value to client application as a global using


### Production build - AOT compilation

TODO !